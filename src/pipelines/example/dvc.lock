schema: '2.0'
stages:
  preprocess:
    cmd: python src/pipelines/example/preprocess.py
    params:
      src/pipelines/example/params.yaml:
        data_config:
          data_path: data/datasets/example_set/data.pkl
          n_samples: 100
          n_features: 10
          n_classes: 2
          test_size: 0.2
          random_state: 42
    outs:
    - path: data/datasets/example_set/data.pkl
      hash: md5
      md5: bf5aa3fb8604ce3cb372eb7641f2b9a3
      size: 9219
  train:
    cmd: python src/pipelines/example/train.py
    deps:
    - path: data/datasets/example_set/data.pkl
      hash: md5
      md5: bf5aa3fb8604ce3cb372eb7641f2b9a3
      size: 9219
    params:
      src/pipelines/example/params.yaml:
        train_config:
          model: random_forest
          output_path: data/models/example_set/random_forest.pth
          log_root: dvclive/example_set
          random_forest_config:
            n_estimators: 100
            criterion: gini
            max_depth:
            min_samples_split: 2
    outs:
    - path: data/models/example_set/random_forest.pth
      hash: md5
      md5: a028cd8a4ab2648b75f5315e1d26641c
      size: 150847
  eval:
    cmd: python src/pipelines/example/eval.py
    deps:
    - path: data/models/example_set/random_forest.pth
      hash: md5
      md5: a028cd8a4ab2648b75f5315e1d26641c
      size: 150847
    outs:
    - path: dvclive/example_set/eval
      hash: md5
      md5: a6d53ab1d1d6535dde16b274ca37b286.dir
      size: 46
      nfiles: 2
